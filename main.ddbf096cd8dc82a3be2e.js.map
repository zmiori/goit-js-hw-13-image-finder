{"version":3,"sources":["webpack:///./js/refs.js","webpack:///./js/apiService.js","webpack:///./js/make-gallery-markup.js","webpack:///./js/index.js","webpack:///./templates/gallery.hbs"],"names":["searchInput","document","querySelector","searchForm","galleryContainerRef","loadMoreBtn","defaults","require","styling","icons","axios","default","baseURL","searchQuery","page","fetchGallery","get","result","console","log","data","hits","resetPage","this","newQuery","addToGalleryMarkup","images","markup","galleryTpl","refs","insertAdjacentHTML","classList","remove","addEventListener","event","preventDefault","apiService","form","currentTarget","query","elements","value","then","length","myError","error","text","innerHTML","add","makeGalleryMarkup","window","scrollBy","top","innerHeight","left","behavior","target","nodeName","dataset","large","basicLightbox","show","Handlebars","module","exports","template","container","depth0","helpers","partials","helper","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","hooks","helperMissing","nullContext","stack1","program","noop"],"mappings":"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","file":"main.ddbf096cd8dc82a3be2e.js","sourcesContent":["export default {\r\n  searchInput: document.querySelector('.search-input'),\r\n  searchForm: document.querySelector('.search-form'),\r\n  galleryContainerRef: document.querySelector('.gallery-container'),\r\n  loadMoreBtn: document.querySelector('.load-more-btn'),\r\n};\r\n","import refs from './refs.js';\r\n\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport '@pnotify/core/dist/Material.css';\r\nimport { alert, notice, info, success, error } from '@pnotify/core';\r\nconst { defaults } = require('@pnotify/core');\r\ndefaults.styling = 'material';\r\ndefaults.icons = 'material';\r\n\r\nconst axios = require('axios').default;\r\naxios.defaults.baseURL = 'https://pixabay.com/api';\r\nconst token = '19908670-1dd1b8415290a1f574a86bd8e';\r\n\r\n// const headers = {\r\n//   Autorization: `Bearer ${token}`,\r\n// };\r\n\r\nexport default {\r\n  searchQuery: '',\r\n  page: 1,\r\n\r\n  async fetchGallery(searchQuery) {\r\n    try {\r\n      const result = await axios.get(\r\n        `/?image_type=photo&orientation=horizontal&q=${this.searchQuery}&page=${this.page}&per_page=12&key=${token}`,\r\n      );\r\n      console.log(result.data.hits);\r\n      this.page += 1;\r\n      return result.data.hits;\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n\r\n  get query() {\r\n    return this.searchQuery;\r\n  },\r\n\r\n  set query(newQuery) {\r\n    this.searchQuery = newQuery;\r\n  },\r\n};\r\n","import galleryTpl from '../templates/gallery.hbs';\r\nimport refs from './refs.js';\r\n\r\nimport { error } from '@pnotify/core';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\n\r\nconst basicLightbox = require('basiclightbox');\r\n\r\nfunction makeGalleryMarkup(images) {\r\n  refs.galleryContainerRef.innerHTML = '';\r\n  addToGalleryMarkup(images);\r\n}\r\n\r\nfunction addToGalleryMarkup(images) {\r\n  const markup = galleryTpl({ images });\r\n  refs.galleryContainerRef.insertAdjacentHTML('beforeend', markup);\r\n  refs.loadMoreBtn.classList.remove('disabled');\r\n}\r\n\r\nexport { makeGalleryMarkup, addToGalleryMarkup };\r\n\r\n// refs.galleryContainerRef.addEventListener('click', event => {\r\n//   console.log(event.target);\r\n// });\r\n","import '../styles.css';\r\n\r\nimport * as basicLightbox from 'basiclightbox';\r\nimport '../basicLightbox.min.css';\r\n\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport '@pnotify/core/dist/Material.css';\r\nimport { alert, notice, info, success, error } from '@pnotify/core';\r\nconst { defaults } = require('@pnotify/core');\r\ndefaults.styling = 'material';\r\ndefaults.icons = 'material';\r\n\r\nimport refs from './refs.js';\r\nimport apiService from './apiService.js';\r\nimport {\r\n  makeGalleryMarkup,\r\n  addToGalleryMarkup,\r\n} from './make-gallery-markup.js';\r\n\r\nrefs.searchForm.addEventListener('submit', event => {\r\n  event.preventDefault();\r\n\r\n  apiService.resetPage();\r\n\r\n  const form = event.currentTarget;\r\n  apiService.query = form.elements.query.value;\r\n  apiService.fetchGallery().then(images => {\r\n    if (images.length >= 1) {\r\n      makeGalleryMarkup(images);\r\n    } else {\r\n      const myError = error({\r\n        text:\r\n          'Sorry, we couldn`t find anything on your request. Please try again',\r\n      });\r\n\r\n      refs.galleryContainerRef.innerHTML = '';\r\n      refs.loadMoreBtn.classList.add('disabled');\r\n      return myError;\r\n    }\r\n  });\r\n});\r\n\r\nrefs.loadMoreBtn.addEventListener('click', () => {\r\n  apiService.fetchGallery().then(images => {\r\n    addToGalleryMarkup(images);\r\n\r\n    window.scrollBy({\r\n      top: window.innerHeight,\r\n      left: 0,\r\n      behavior: 'smooth',\r\n    });\r\n  });\r\n});\r\n\r\nrefs.galleryContainerRef.addEventListener('click', event => {\r\n  if (event.target.nodeName === 'IMG') {\r\n    console.log(event.target.dataset.large);\r\n    basicLightbox.create(`<img src=\"${event.target.dataset.large}\">`).show();\r\n  }\r\n});\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li class=\\\"image-item\\\">\\r\\n        <div class=\\\"photo-card\\\">\\r\\n            <img src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"tags\") : depth0), depth0))\n    + \"\\\" width=\\\"400px\\\" height=\\\"300px\\\"\\r\\n                data-large=\\\"\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":28},\"end\":{\"line\":7,\"column\":45}}}) : helper)))\n    + \"\\\" />\\r\\n\\r\\n            <div class=\\\"stats\\\">\\r\\n                <p class=\\\"stats-item\\\">\\r\\n                    <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n                    \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"likes\") : depth0), depth0))\n    + \"\\r\\n                </p>\\r\\n                <p class=\\\"stats-item\\\">\\r\\n                    <i class=\\\"material-icons\\\">visibility</i>\\r\\n                    \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"views\") : depth0), depth0))\n    + \"\\r\\n                </p>\\r\\n                <p class=\\\"stats-item\\\">\\r\\n                    <i class=\\\"material-icons\\\">comment</i>\\r\\n                    \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"comments\") : depth0), depth0))\n    + \"\\r\\n                </p>\\r\\n                <p class=\\\"stats-item\\\">\\r\\n                    <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n                    \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0), depth0))\n    + \"\\r\\n                </p>\\r\\n            </div>\\r\\n        </div>\\r\\n    </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"gallery\\\">\\r\\n    <!-- Список <li> с карточками изображений -->\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"images\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":4},\"end\":{\"line\":29,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true});"],"sourceRoot":""}